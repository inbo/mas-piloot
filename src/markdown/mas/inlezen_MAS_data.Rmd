---
title: "Inlezen MAS data"
author: "Ward Langeraert"
date: "`r Sys.Date()`"
output:
  bookdown::html_document2:
    code_folding: hide
    toc: true
    toc_float: true
    toc_collapsed: true
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
#renv::restore()

# Set up
library(knitr)
library(here)
opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE)
opts_knit$set(root.dir = here::here())

# Packages
library(tidyverse)
library(lubridate)
library(sf)

# Source
mbag_dir <- here()
data_path <- file.path("data", "mas")
```

# Controles
## Oude exports

Eerst controleren we of `20220906_qgis_export_sovon_wfs.gpkg` en `20220906_qgis_export_sovon_wfs.geojson` dezelfde informatie bevatten.

File size `20220906_qgis_export_sovon_wfs.gpkg`:

```{r}
file_gpkg <- file.path(data_path, "20220906_qgis_export_sovon_wfs.gpkg")
info_gpkg <- file.info(file_gpkg)
info_gpkg$size
```

File size `20220906_qgis_export_sovon_wfs.geojson`:

```{r}
file_geojson <- file.path(data_path, "20220906_qgis_export_sovon_wfs.geojson")
info_geojson <- file.info(file_geojson)
info_geojson$size
```

We vergelijken beide bestanden.

```{r}
mas_gpkg <- read_sf(file_gpkg)
mas_geojson <- read_sf(file_geojson)
```

Het enige verschil tussen beide bestanden is de benaming van de geometry kolom en het type van 3 kolommen die enkel maar `NA`'s bevatten.

```{r}
waldo::compare(mas_gpkg, mas_geojson)
```

## Nieuwe export



